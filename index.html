<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Musician Landing Page</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 0; padding: 0; color: #333; }
        header, footer { background: #222; color: #fff; padding: 20px; text-align: center; }
        main { padding: 20px; max-width: 800px; margin: auto; }
        h1, h2 { color: #444; }
        .hero { display: flex; align-items: center; justify-content: center; flex-direction: column; }
        .hero img { max-width: 200px; border-radius: 50%; margin-bottom: 15px; }
        .music-sample, .coming-soon, .story-section { margin-top: 40px; }
        .music-sample img { max-width: 100%; margin: 20px 0; }
        footer .social, footer .platforms { margin-top: 10px; }
        footer .social a, footer .platforms a { margin: 0 5px; color: #fff; text-decoration: none; }
    </style>
</head>
<body>

    <!-- Header Section -->
    <header>
        <h1>Alan Birdsall</h1>
        <p>Discover the latest music, stories, and more</p>
    </header>

    <!-- Main Content -->
    <main>
        <!-- Hero Section -->
        <section class="hero">
            <img src="assets/portrait.jpg" alt="Musician Portrait"> <!-- Add portrait image file here -->
            <p>Musician's tagline or introduction goes here.</p>
        </section>

        <!-- Music Sample Section -->
        <section class="music-sample">
            <h2>Latest Single</h2>
            <img src="assets/i-know-that-my-redeemer-lives-cover-art.jpg" alt="Single Cover Art"> <!-- Add cover art image file here -->
            <audio id="audio-sample" controls>
                <source src="assets/i-know-that-my-redeemer-lives-master.mp3" type="audio/mpeg"> <!-- Full MP3 file -->
                Your browser does not support the audio element.
            </audio>
            <!-- <p>Release date of the next singles: [Add release dates]</p> -->
        </section>

        <!-- About the Music Section -->
        <section class="story-section">
            <h2>Stories Behind the Songs</h2>
            <p>[Add song stories here]</p> <!-- Add each song's story here -->
        </section>

        <!-- Coming Soon Section -->
        <section class="coming-soon">
            <h2>Coming Soon</h2>
            <p>Upcoming releases and album details.</p>
            <p>[Add details about upcoming singles or album release here]</p>
        </section>
    </main>

    <!-- Footer Section -->
    <footer>
        <!-- Credits Section -->
        <p>&copy; [2024] Alan Birdsall. All rights reserved.</p>
        <p>Credits: [Add any acknowledgments or production credits]</p>

        <!-- Social Media Links -->
        <div class="social">
            <h3>Follow</h3>
            <a href="[Facebook URL]" target="_blank">Facebook</a>
            <a href="[Instagram URL]" target="_blank">Instagram</a>
        </div>

        <!-- Music Platform Links -->
        <div class="platforms">
            <h3>Listen on</h3>
            <a href="[Spotify URL]" target="_blank">Spotify</a>
            <a href="[Apple Music URL]" target="_blank">Apple Music</a>
            <a href="[Amazon Music URL]" target="_blank">Amazon Music</a>
            <a href="[Pandora URL]" target="_blank">Pandora</a>
            <a href="[YouTube URL]" target="_blank">YouTube</a>
        </div>
    </footer>

    <!-- JavaScript to control audio sample playback with fade out -->
    <script>
        const audio = document.getElementById('audio-sample');
        const sampleStart = (60 * 3) + 22; // Start at 3:22
        const sampleDuration = 20; // Duration of sample in seconds
        const fadeDuration = 5; // Duration of fade out in seconds
        const fadeStart = sampleDuration - fadeDuration; // When the fade should start (at 15s of the sample)

        let fadeInterval;

        audio.addEventListener('play', () => {
            // Set the start time
            audio.currentTime = sampleStart;
            audio.volume = 1; // Reset volume to full at start

            // Stop the audio after the sample duration
            setTimeout(() => {
                if (audio.currentTime >= sampleStart + sampleDuration) {
                    audio.pause();
                    clearInterval(fadeInterval); // Stop the fade out process if still running
                }
            }, sampleDuration * 1000); // Convert seconds to milliseconds
        });

        // Time update to handle fade out and reset
        audio.addEventListener('timeupdate', () => {
            if (audio.currentTime >= sampleStart + fadeStart) {
                // Begin fading out over the last 5 seconds
                if (!fadeInterval) {
                    fadeInterval = setInterval(() => {
                        if (audio.volume > 0.05) {
                            audio.volume -= 0.05; // Gradually decrease volume
                        } else {
                            audio.volume = 0;
                            clearInterval(fadeInterval); // Stop fade once fully faded
                        }
                    }, (fadeDuration / 20) * 1000); // Divide fade duration for smoother fade steps
                }
            }

            if (audio.currentTime >= sampleStart + sampleDuration) {
                audio.pause();
                audio.currentTime = sampleStart; // Reset to start for replay
                audio.volume = 1; // Reset volume for next play
                clearInterval(fadeInterval); // Ensure fade is cleared
            }
        });

    </script>

</body>
</html>